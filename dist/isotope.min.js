/*!
 * @isotope/core v0.0.0
 * (c) Arek Nawo <areknawo@areknawo.com> (areknawo.com)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Isotope={})}(this,function(t){"use strict";class e{constructor(t,e){this.element=this.getElement(t,e),"string"==typeof e?this.element.textContent=e:e&&(e.attach&&(this.childIndex=0),e.autoLink&&(this.autoLink=e.autoLink),e.state&&(this.state=e.state),e.context&&(this.context=e.context),this.onCreate.forEach(t=>{t(this,e)})),this.process()}$(t){if(Array.isArray(t))t.forEach(t=>{t(this)});else{const e=t(this);if(e)return e}return this}child(t,s){const n=void 0!==this.childIndex;let i=t;if(n){const t=this.element.children[this.childIndex||0];t&&(i=t,this.childIndex=(this.childIndex||0)+1)}const o=new e(i,s);return this.element.appendChild(o.element),n&&!o.childIndex&&(o.childIndex=0),this.context&&(o.context?o.context=Object.assign(o.context,this.context):o.context=this.context),this.autoLink&&this.link(o),o}clean(){return this.linked&&(this.linked=null),this.onClean.forEach(t=>{t(this)}),this.element.textContent="",this}emit(t,e={}){return this.element.dispatchEvent(Object.assign(this.customDOM?this.customDOM.createEvent(t):new Event(t),{node:this},e)),this}getContext(t){return this.context?this.context[t]:null}getState(t){return this.state?this.state[t]:null}link(t,e){const s=t.linkup;return s!==this&&(s&&s.linked&&s.linked.splice(s.linked.indexOf(t),1),this.linked||(this.linked=[]),e?this.linked.splice(e,0,t):this.linked.push(t),t.linkup=this),this}move(t){const{linkup:e}=this;if(e&&e.linked){const s=e.linked,[n]=s.splice(s.indexOf(this),1);s.splice(t,0,n);const i=s[t+1];e.element.insertBefore(this.element,i?i.element:null)}return this}off(t,e,s){return this.element.removeEventListener(t,e,s),this}on(t,e,s){return this.element.addEventListener(t,e,s),this}remove(){const{linkup:t}=this;return t&&t.linked&&t.linked.splice(t.linked.indexOf(this),1),this.linked&&(this.linked=null),this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.emit("node-removed"),this}setState(t){return this.state&&(Object.assign(this.state,t),this.emit("state-changed"),this.process()),this}toString(){return`${this.element}`}getElement(t,e){return"string"==typeof t?"object"==typeof e&&e.namespace?this.customDOM?this.customDOM.createElement(t,e.namespace):document.createElementNS(e.namespace,t):this.customDOM?this.customDOM.createElement(t):document.createElement(t):t}process(){this.emit("node-updated"),this.onProcess.forEach(t=>{t(this)}),this.linked&&this.linked.forEach(t=>{t.process()})}}Object.assign(e.prototype,{onClean:[],onCreate:[],onProcess:[]});class s{constructor(t){this.children=[],this.classList={add:(...t)=>{this.classes.push(...t)},contains:t=>this.classes.includes(t),remove:(...t)=>{t.forEach(t=>{this.classes.splice(this.classes.indexOf(t),1)})}},this.parentElement=null,this.style={},this.attributes={},this.classes=[],this.$textContent="",this.events={},this.tagName=t}addEventListener(t,e){(this.events[t]||(this.events[t]=[])).push(e)}appendChild(t){return this.children.push(t),t.parentElement=this,t}dispatchEvent(t){return(this.events[t.type]||[]).slice().forEach(e=>{"function"==typeof e?e(t):e.handleEvent(t)}),!0}getAttribute(t){return this.attributes[t]}insertBefore(t,e){if(t.parentElement=this,e){const s=this.children.indexOf(e);if(s>=0)return this.children.splice(s+1,0,t),t}return this.children.push(t),t}removeAttribute(t){this.attributes[t]=null}removeChild(t){return t.parentElement=null,this.children.splice(this.children.indexOf(t),1),t}removeEventListener(t,e){this.events[t]&&this.events[t].splice(this.events[t].indexOf(e)>>>0,1)}setAttribute(t,e){this.attributes[t]=e}set textContent(t){this.children=[],this.$textContent=t||""}get textContent(){return this.$textContent}toString(){const t=this.tagName,e=this.textContent||this.children.map(t=>`${t}`).join(""),s=this.classes.join(" "),n=Object.entries(this.style).map(([t,e])=>{return`${t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}:${e}`}).join(";");return`<${t}${s?` class="${s}"`:""}${n?`style="${n}"`:""}${Object.entries(this.attributes).map(([t,e])=>`${t}="${e}"`).join(" ")}>${e}</${t}>`}}if(e.prototype.setAttribs||(e.prototype.onCreate.push((t,e)=>{e.attribs&&("function"==typeof e.attribs?t.attribs=e.attribs:t.setAttribs(e.attribs))}),e.prototype.onProcess.push(t=>{t.attribs&&t.setAttribs(t.attribs(t))}),Object.assign(e.prototype,{getAttrib(t){const e=this.element.getAttribute(t);return""===e||e},setAttrib(t,e){return e?this.element.setAttribute(t,!0===e?"":e):this.element.removeAttribute(t),this},setAttribs(t){return Object.entries(t).forEach(([t,e])=>{this.setAttrib(t,e)}),this}})),e.prototype.setClasses||(e.prototype.onCreate.push((t,e)=>{e.classes&&("function"==typeof e.classes?t.classes=e.classes:t.setClasses(e.classes))}),e.prototype.onProcess.push(t=>{t.classes&&t.setClasses(t.classes(t))}),Object.assign(e.prototype,{addClass(t){return this.element.classList.add(t),this},hasClass(t){return this.element.classList.contains(t)},removeClass(t){return this.element.classList.remove(t),this},setClasses(t){return Array.isArray(t)?t.forEach(t=>this.addClass(t)):Object.entries(t).forEach(([t,e])=>{e?this.addClass(t):this.removeClass(t)}),this}})),e.prototype.setStyles||(e.prototype.onCreate.push((t,e)=>{e.styles&&("function"==typeof e.styles?t.styles=e.styles:t.setStyles(e.styles))}),e.prototype.onProcess.push(t=>{t.styles&&t.setStyles(t.styles(t))}),Object.assign(e.prototype,{getStyle(t){const{style:e}=this.element;return e?e[t]:e},setStyle(t,e){const{style:s}=this.element;return s&&(s[t]=`${e}${"number"==typeof e?"px":""}`),this},setStyles(t){return Object.entries(t).forEach(([t,e])=>{this.setStyle(t,e)}),this}})),!e.prototype.if){const t=t=>{if(t.conditionalData){const e=t.conditionalData,{condition:s}=e,n=Boolean("function"==typeof s?s(t):t.getState(s));n!==e.previous&&(t.element.textContent="",t.linked=null,n?e.onTrue(t):e.onFalse&&e.onFalse(t),e.previous=n)}};e.prototype.onClean.push(t=>{t.conditionalData&&(t.conditionalData=null)}),e.prototype.onProcess.push(e=>{e.conditionalData&&t(e)}),Object.assign(e.prototype,{if(e,s,n){return this.clean(),"boolean"==typeof e?e?s(this):n&&n(this):(this.conditionalData={condition:e,onFalse:n,onTrue:s},t(this)),this}})}const n=({index:t,source:e,target:s})=>e.length>0&&s.length>0&&(t<=e.length||t<=s.length),i=({source:t,target:e})=>{const[s]=t,n=t[t.length-1],[i]=e,o=e[e.length-1];let r=!1;return s===i&&(t.shift(),e.shift(),r=!0),n===o&&(t.pop(),e.pop(),r=!0),r},o=({index:t,source:e,target:s})=>{const n=e[t],i=e[e.length-1-t],[o]=s,r=n===s[s.length-1];return{left:i===o?e.splice(e.length-1-t,1)[0]:null,right:r?e.splice(t,1)[0]:null}},r=({changes:t,source:e},s,n)=>{null!==n&&(e.push(n),t.push({id:n,type:"move"})),null!==s&&(e.splice(0,0,s),t.push({id:s,type:"move"}))};if(!e.prototype.map){const t=(t,e)=>{const s=t.mapData;((t,e)=>{const s=((t,e)=>({changes:[],index:0,source:t.map(t=>`${"object"==typeof t?t.id:t}`),sourceInput:t,target:e.map(t=>`${"object"==typeof t?t.id:t}`),targetInput:e}))(t,e);for(;n(s);){if(i(s)){s.index=0;continue}const{left:t,right:e}=o(s);null!==t||null!==e?(r(s,t,e),s.index=0):s.index+=1}return(({changes:t,target:e})=>{e.splice(0).forEach(e=>{t.push({id:e,type:"add"})})})(s),(({changes:t,source:e})=>{e.splice(0).forEach(e=>{t.push({id:e,type:"remove"})})})(s),(({changes:t,targetInput:e})=>{t.forEach(t=>{const{id:s,type:n}=t;if("add"===n||"move"===n){const i=e.findIndex(t=>"object"==typeof t?t.id===s:t===s);"add"===n&&(t.item=e[i]),t.position=i}})})(s),s.changes})(t.linked||[],e).forEach(({id:e,item:n,position:i=0,type:o},r)=>{if("add"===o){const o=s.createItem(n,t,r);o&&(o.id=`${e}`,t.link(o,i),o.move(i))}else{const s=t.linked.find(t=>t.id===e);s&&("remove"===o?s.remove():s.move(i))}})},s=(t,e)=>{const s=t.mapData;e.forEach((e,n)=>{const i=s.createItem(e,t,n);i&&(i.id=`${"object"==typeof e?e.id:e}`,t.link(i))})},a=e=>{if(e.mapData){const n=e.mapData,i="function"==typeof n.items?n.items(e):e.getState(n.items);e.linked?t(e,i):s(e,i)}};e.prototype.onClean.push(t=>{t.mapData&&(t.mapData=null)}),e.prototype.onProcess.push(t=>{t.mapData&&a(t)}),Object.assign(e.prototype,{map(t,e){return this.clean(),Array.isArray(t)?t.forEach((t,s)=>{e(t,this,s)}):(this.mapData={createItem:e,items:t},a(this)),this}})}if(new e("tag").map([1],()=>{}),!e.prototype.text){const t=t=>{if(t.textData){const e=t.textData(t);e!==t.element.textContent&&(t.element.textContent=e)}};e.prototype.onClean.push(t=>{t.textData&&(t.textData=null)}),e.prototype.onProcess.push(e=>{e.textData&&t(e)}),Object.assign(e.prototype,{text(e){return this.clean(),"function"==typeof e?(this.textData=e,t(this)):this.element.textContent=e,this}})}const a=t=>{e.prototype[t]||(e.prototype[t]=function(e){return this.child(t,e)})};["blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul"].forEach(t=>{a(t)});["embed","iframe","object","param","picture","source"].forEach(t=>{a(t)});["button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea"].forEach(t=>{a(t)});["details","dialog","menu","summary","canvas","script","noscript","slot","template"].forEach(t=>{a(t)});["area","audio","img","track","video"].forEach(t=>{a(t)});["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section"].forEach(t=>{a(t)});["caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"].forEach(t=>{a(t)});["del","ins","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr"].forEach(t=>{a(t)}),t.IsotopeNode=e,t.createDOMView=((t,s)=>(e.prototype.customDOM&&(e.prototype.customDOM=null),(!s||s&&s.clean&&!s.attach)&&(t.textContent=""),new e(t,s))),t.createStringView=(t=>(e.prototype.customDOM||(e.prototype.customDOM={createElement:t=>new s(t),createEvent:t=>({type:t})}),new e(t))),Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=isotope.min.js.map
