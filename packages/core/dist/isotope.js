/*!
 * @isotope/core v0.2.4
 * (c) Arek Nawo <areknawo@areknawo.com> (areknawo.com)
 * MIT-licensed
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Isotope={})}(this,(function(t){"use strict";class e{constructor(t,e){this.element=this.getElement(t,e),"string"==typeof e?this.element.textContent=e:"object"==typeof e&&(e.attach&&(this.childIndex=0),e.autoLink&&(this.autoLink=e.autoLink),e.state&&(this.state=e.state),e.context&&(this.context=e.context),this.onCreate.forEach(t=>{t(this,e)})),this.process()}$(t){if(Array.isArray(t))t.forEach(t=>{t(this)});else{const e=t(this);if(void 0!==e)return e}return this}child(t,s){const n=void 0!==this.childIndex,i="function"==typeof s||Array.isArray(s);let o=t;if(n){const t=this.childIndex||0,e=this.element.children[t];e&&(o=e,this.childIndex=t+1)}const r=new e(o,i?{}:s);return this.element.appendChild(r.element),n&&!r.childIndex&&(r.childIndex=0),this.passContext(r),this.autoLink&&this.link(r),i&&r.$(s),r}clean(){return this.linked&&(this.linked=null),this.onClean.forEach(t=>{t(this)}),this.element.textContent="",this}emit(t,e={}){return this.listenedEvents&&this.listenedEvents.includes(t)&&this.element.dispatchEvent(Object.assign(this.customDOM?this.customDOM.createEvent(t):new Event(t),e)),this}getContext(t){return this.context?this.context[t]:null}getState(t){return this.state?this.state[t]:null}link(t,e){const s=t.linkup;return s!==this&&(s&&s.linked&&s.linked.splice(s.linked.indexOf(t),1),this.linked||(this.linked=[]),e?this.linked.splice(e,0,t):this.linked.push(t),t.linkup=this),this}move(t){const{linkup:e}=this;if(e&&e.linked){const s=e.linked,[n]=s.splice(s.indexOf(this),1);s.splice(t,0,n);const i=s[t+1];e.element.insertBefore(this.element,i?i.element:null)}return this}off(t,e,s){return this.element.removeEventListener(t,e,s),this}on(t,e,s){return this.element.addEventListener(t,e,s),this.listenedEvents?this.listenedEvents.push(t):this.listenedEvents=[t],this}remove(){const{linkup:t}=this;return t&&t.linked&&t.linked.splice(t.linked.indexOf(this),1),this.linked&&(this.linked=null),this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.emit("node-removed",{node:this}),this}setState(t){return this.state&&(Object.assign(this.state,t),this.emit("state-changed",{node:this}),this.process()),this}toString(){return""+this.element}getElement(t,e){return"string"==typeof t?"object"==typeof e&&!Array.isArray(e)&&e.namespace?this.customDOM?this.customDOM.createElement(t,e.namespace):document.createElementNS(e.namespace,t):this.customDOM?this.customDOM.createElement(t):document.createElement(t):t}passContext(t){this.context&&(t.context?t.context=Object.assign(t.context,this.context):t.context=this.context)}process(){this.emit("node-updated",{node:this}),this.onProcess.forEach(t=>{t(this)}),this.linked&&this.linked.forEach(t=>{t.process()})}}Object.assign(e.prototype,{onClean:[],onCreate:[],onProcess:[]});if(e.prototype.setAttribs||(e.prototype.onCreate.push((t,e)=>{e.attribs&&("function"==typeof e.attribs?t.attribs=e.attribs:t.setAttribs(e.attribs))}),e.prototype.onProcess.push(t=>{t.attribs&&t.setAttribs(t.attribs(t))}),Object.assign(e.prototype,{getAttrib(t){const e=this.element.getAttribute(t);return""===e||e},setAttrib(t,e){return e?this.element.setAttribute(t,!0===e?"":e):this.element.removeAttribute(t),this},setAttribs(t){return Object.entries(t).forEach(([t,e])=>{this.setAttrib(t,e)}),this}})),e.prototype.setClasses||(e.prototype.onCreate.push((t,e)=>{if(e.classes){let s="";"function"==typeof e.classes?t.classes=e.classes:s=Array.isArray(e.classes)?e.classes.join(" "):Object.entries(e.classes).filter(([,t])=>t).map(([t])=>t).join(" "),s&&t.element.setAttribute("class",s)}}),e.prototype.onProcess.push(t=>{t.classes&&t.setClasses(t.classes(t))}),Object.assign(e.prototype,{addClass(t){return this.element.classList.add(t),this},hasClass(t){return this.element.classList.contains(t)},removeClass(t){return this.element.classList.remove(t),this},setClasses(t){return Array.isArray(t)?t.forEach(t=>this.addClass(t)):Object.entries(t).forEach(([t,e])=>{e?this.addClass(t):this.removeClass(t)}),this}})),e.prototype.setStyles||(e.prototype.onCreate.push((t,e)=>{e.styles&&("function"==typeof e.styles?t.styles=e.styles:t.setStyles(e.styles))}),e.prototype.onProcess.push(t=>{t.styles&&t.setStyles(t.styles(t))}),Object.assign(e.prototype,{getStyle(t){const{style:e}=this.element;return e?e[t]:e},setStyle(t,e){const{style:s}=this.element;return s&&(s[t]=`${e}${"number"==typeof e?"px":""}`),this},setStyles(t){return Object.entries(t).forEach(([t,e])=>{this.setStyle(t,e)}),this}})),!e.prototype.if){const t=t=>{if(t.conditionalData){const e=t.conditionalData,{condition:s}=e,n=Boolean("function"==typeof s?s(t):t.getState(s));n!==e.previous&&(t.element.textContent="",t.linked=null,n?e.onTrue(t):e.onFalse&&e.onFalse(t),e.previous=n)}};e.prototype.onClean.push(t=>{t.conditionalData&&(t.conditionalData=null)}),e.prototype.onProcess.push(e=>{e.conditionalData&&t(e)}),Object.assign(e.prototype,{if(e,s,n){return this.clean(),"boolean"==typeof e?e?s(this):n&&n(this):(this.conditionalData={condition:e,onFalse:n,onTrue:s},t(this)),this}})}const s=({index:t,source:e,target:s})=>e.length>0&&s.length>0&&(t<=e.length||t<=s.length),n=({source:t,target:e})=>{const[s]=t,n=t[t.length-1],[i]=e,o=e[e.length-1];let r=!1;return s===i&&(t.shift(),e.shift(),r=!0),n===o&&(t.pop(),e.pop(),r=!0),r},i=({index:t,source:e,target:s})=>{const n=e[t],i=e[e.length-1-t],[o]=s,r=n===s[s.length-1];return{left:i===o?e.splice(e.length-1-t,1)[0]:null,right:r?e.splice(t,1)[0]:null}},o=({changes:t,source:e},s,n)=>{null!==n&&(e.push(n),t.push({id:n,type:"move"})),null!==s&&(e.splice(0,0,s),t.push({id:s,type:"move"}))};if(!e.prototype.map){const t=(t,e)=>{const r=t.mapData;((t,e)=>{const r=((t,e)=>({changes:[],index:0,source:t.map(t=>""+("object"==typeof t?t.id:t)),sourceInput:t,target:e.map(t=>""+("object"==typeof t?t.id:t)),targetInput:e}))(t,e);for(;s(r);){if(n(r)){r.index=0;continue}const{left:t,right:e}=i(r);null!==t||null!==e?(o(r,t,e),r.index=0):r.index+=1}return(({changes:t,target:e})=>{e.splice(0).forEach(e=>{t.push({id:e,type:"add"})})})(r),(({changes:t,source:e})=>{e.splice(0).forEach(e=>{t.push({id:e,type:"remove"})})})(r),(({changes:t,targetInput:e})=>{t.forEach(t=>{const s=""+t.id,{type:n}=t;if("add"===n||"move"===n){const i=e.findIndex(t=>"object"==typeof t?""+t.id===s:""+t===s);"add"===n&&(t.item=e[i]),t.position=i}})})(r),r.changes})(t.linked||[],e).forEach(({id:e,item:s,position:n=0,type:i},o)=>{if("add"===i){const i=r.createItem(s,t,o);i&&(i.id=""+e,t.link(i,n),i.move(n))}else{const s=t.linked.find(t=>t.id===e);s&&("remove"===i?s.remove():s.move(n))}})},r=(t,e)=>{const s=t.mapData;e.forEach((e,n)=>{const i=s.createItem(e,t,n);i&&(i.id=""+("object"==typeof e?e.id:e),t.link(i))})},a=e=>{if(e.mapData){const s=e.mapData,n="function"==typeof s.items?s.items(e):e.getState(s.items);n.isotopeMapped||(0===n.length?(e.linked=[],e.element.textContent=""):e.linked?t(e,n):r(e,n)),n.isotopeMapped=!0}};e.prototype.onClean.push(t=>{t.mapData&&(t.mapData=null)}),e.prototype.onProcess.push(t=>{t.mapData&&a(t)}),Object.assign(e.prototype,{map(t,e){return this.clean(),Array.isArray(t)?t.forEach((t,s)=>{e(t,this,s)}):(this.mapData={createItem:e,items:t},a(this)),this}})}if(!e.prototype.text){const t=t=>{if(t.textData){const e=t.textData(t);e!==t.element.textContent&&(t.element.textContent=e)}};e.prototype.onClean.push(t=>{t.textData&&(t.textData=null)}),e.prototype.onProcess.push(e=>{e.textData&&t(e)}),Object.assign(e.prototype,{text(e){return this.clean(),"function"==typeof e?(this.textData=e,t(this)):this.element.textContent=e,this}})}const r=t=>{e.prototype[t]||(e.prototype[t]=function(e){return this.child(t,e)})};["blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul"].forEach(t=>{r(t)});["embed","iframe","object","param","picture","source"].forEach(t=>{r(t)});["button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea"].forEach(t=>{r(t)});["details","dialog","menu","summary","canvas","script","noscript","slot","template"].forEach(t=>{r(t)});["area","audio","img","track","video"].forEach(t=>{r(t)});["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section"].forEach(t=>{r(t)});["caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"].forEach(t=>{r(t)});["del","ins","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr"].forEach(t=>{r(t)}),t.IsotopeNode=e,t.createDOMView=(t,s)=>(e.prototype.customDOM&&(e.prototype.customDOM=null),(!s||s&&s.clean&&!s.attach)&&(t.textContent=""),new e(t,s)),Object.defineProperty(t,"__esModule",{value:!0})}));
